<div class="article">
	<p>After playing each playtest game, please leave feedback on bugs or balance <a href="https://docs.google.com/forms/d/e/1FAIpQLSdKJrCmjoyUqDTusDcpNoWAmvkGdzQqTxWGpdNIFX9biCee-A/viewform?usp=pp_url">using this form here</a>. (If you use the link in the pop-up at the end of the match, it will auto-fill the replay links in the form for you.)</p>
	
	<p>If you have any questions, please bring them up in the #private-playtest channel <a href="https://lotrtcgpc.net/discord">on the PC Discord server</a>.</p>
	
	<br>
	
	Last 100 Playtest Replays:
	
	<div id="replays">
		<table id="tblReplays" class="gameHistory">
			<thead>
				<tr>
					<th>Format</th>
					<th>Winner</th>
					<th>Loser</th>
					<th>Win Reason</th>
					<th>Loss Reason</th>
					<th>Winner Replay</th>
					<th>Loser Replay</th>
					<th>Started</th>
					<th>Ended</th>
				</tr>
			</thead>
			
		</table>
	</div>
	
</div>

<script>

function drawTable(json) {

	const template = {"<>":"tr","html": [
		{"<>":"td","html":"${format_name}"},
		{"<>":"td","html":"${winner}"},
		{"<>":"td","html":"${loser}"},
		{"<>":"td","html":"${win_reason}"},
		{"<>":"td","html":"${lose_reason}"},
		{"<>":"td","html":function() {
			return "<a href=\"" + window.location.origin + "/gemp-lotr/game.html?replayId=" + this.winner + "$" + this.win_recording_id + "\">Replay link</a>"; 
			}},
		{"<>":"td","html":function() {
			return "<a href=\"" + window.location.origin + "/gemp-lotr/game.html?replayId=" + this.loser + "$" + this.lose_recording_id + "\">Replay link</a>"; 
			}},
		{"<>":"td","html":function() { return new Date(this.start_date).toLocaleString('sv'); }},
		{"<>":"td","html":function() { return new Date(this.end_date).toLocaleString('sv'); }},
	]};
	
		   
	$("#tblReplays").json2html(json,template);
}


hall.comm.getRecentReplays("", 100, function(json){drawTable(json);}, hall.hallErrorMap());
drawTable(); 

</script>

